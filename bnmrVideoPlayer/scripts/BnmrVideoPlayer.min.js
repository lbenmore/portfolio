var BnmrVideoPlayer=function(){var e=this,s={};s.vars={},s.els={},s.fns={},s.vars.rand=Math.floor(1e10*Math.random()),s.fns.log=function(e){window.console.dir?console.dir(e):console.log(e)},s.fns.addClass=function(e,s,l){setTimeout(function(){document.body.classList?e.classList.add(s):e.className+=" "+s},l||0)},s.fns.removeClass=function(e,s,l){setTimeout(function(){document.body.classList?e.classList.remove(s):e.className=e.className.replace(" "+s,"")},l||0)},s.fns.replaceClass=function(e,s,l,n){setTimeout(function(){e.className=e.className.replace(s,l)},n||0)},s.fns.initPlayer=function(){s.els.locationElement=document.querySelector(s.vars.location),s.els.locationElement.style.width=s.vars.width+"px",s.els.locationElement.style.height=s.vars.height+"px",s.els.vidEl=document.createElement("video"),s.els.locationElement.className+=" BnmrVideoPlayer_"+s.vars.rand,s.els.vidEl.id="BnmrVideo_"+s.vars.rand,s.vars.currVid=0,"true"==s.vars.controls?s.fns.createControls():null,null!=s.vars.poster?s.vars.vidEl.setAttribute("poster",s.vars.poster):null,s.els.vidEl.setAttribute("width",s.vars.width),s.els.vidEl.setAttribute("height",s.vars.height),s.els.locationElement.appendChild(s.els.vidEl),null==s.vars.playlist?s.els.vidEl.src=s.vars.file:(s.els.vidEl.src=s.vars.playlist[s.vars.currVid],s.fns.createPlaylist()),"true"==s.vars.muted?e.mute():e.unmute(),"true"==s.vars.autoplay?e.play():null,s.fns.eventListeners()},s.fns.createControls=function(){s.els.controls=document.createElement("div"),s.fns.addClass(s.els.controls,"controls_"+s.vars.rand),document.querySelector(s.vars.location).appendChild(s.els.controls),s.els.btnPlayPause=document.createElement("div"),s.fns.addClass(s.els.btnPlayPause,"btnPlayPause_"+s.vars.rand),s.els.controls.appendChild(s.els.btnPlayPause),s.els.btnPlay=document.createElement("div"),s.fns.addClass(s.els.btnPlay,"btnPlay_"+s.vars.rand),s.els.btnPlayPause.appendChild(s.els.btnPlay),s.els.icnPlay=document.createElement("div"),s.fns.addClass(s.els.icnPlay,"icnPlay_"+s.vars.rand),s.els.btnPlay.appendChild(s.els.icnPlay),s.els.btnPause=document.createElement("div"),s.fns.addClass(s.els.btnPause,"btnPause_"+s.vars.rand),s.els.btnPlayPause.appendChild(s.els.btnPause),s.els.icnPauseLeft=document.createElement("div"),s.fns.addClass(s.els.icnPauseLeft,"icnPauseLeft_"+s.vars.rand),s.els.btnPause.appendChild(s.els.icnPauseLeft),s.els.icnPauseRight=document.createElement("div"),s.fns.addClass(s.els.icnPauseRight,"icnPauseRight_"+s.vars.rand),s.els.btnPause.appendChild(s.els.icnPauseRight),"true"==s.vars.autoplay?s.fns.addClass(s.els.btnPause,"visible"):s.fns.addClass(s.els.btnPlay,"visible"),s.els.progressBar=document.createElement("div"),s.fns.addClass(s.els.progressBar,"progressBar_"+s.vars.rand),s.els.controls.appendChild(s.els.progressBar),s.els.progressPlayed=document.createElement("div"),s.fns.addClass(s.els.progressPlayed,"progressPlayed_"+s.vars.rand),s.els.progressBar.appendChild(s.els.progressPlayed),s.els.btnMuteUnmute=document.createElement("div"),s.fns.addClass(s.els.btnMuteUnmute,"btnMuteUnmute_"+s.vars.rand),s.els.controls.appendChild(s.els.btnMuteUnmute),s.els.icnSpeaker=document.createElement("div"),s.fns.addClass(s.els.icnSpeaker,"icnSpeaker_"+s.vars.rand),s.els.btnMuteUnmute.appendChild(s.els.icnSpeaker),s.els.icnBox=document.createElement("div"),s.fns.addClass(s.els.icnBox,"icnBox_"+s.vars.rand),s.els.icnSpeaker.appendChild(s.els.icnBox),s.els.icnPolygon=document.createElement("div"),s.fns.addClass(s.els.icnPolygon,"icnPolygon_"+s.vars.rand),s.els.icnSpeaker.appendChild(s.els.icnPolygon),s.els.icnSound=document.createElement("div"),s.fns.addClass(s.els.icnSound,"icnSound_"+s.vars.rand),s.els.btnMuteUnmute.appendChild(s.els.icnSound),s.els.icnSemiCircleSm=document.createElement("div"),s.fns.addClass(s.els.icnSemiCircleSm,"icnSemiCircleSm_"+s.vars.rand),s.els.icnSound.appendChild(s.els.icnSemiCircleSm),s.els.icnSemiCircleMd=document.createElement("div"),s.fns.addClass(s.els.icnSemiCircleMd,"icnSemiCircleMd_"+s.vars.rand),s.els.icnSound.appendChild(s.els.icnSemiCircleMd),s.els.icnSemiCircleLg=document.createElement("div"),s.fns.addClass(s.els.icnSemiCircleLg,"icnSemiCircleLg_"+s.vars.rand),s.els.icnSound.appendChild(s.els.icnSemiCircleLg),"true"==s.vars.muted?s.fns.removeClass(s.els.icnSound,"visible"):s.fns.addClass(s.els.icnSound,"visible")},s.fns.createPlaylist=function(){"true"==s.vars.controls&&(s.els.btnNext=document.createElement("div"),s.fns.addClass(s.els.btnNext,"btnNext_"+s.vars.rand),s.els.controls.appendChild(s.els.btnNext),s.els.icnNext1=document.createElement("div"),s.fns.addClass(s.els.icnNext1,"icnNext1_"+s.vars.rand),s.els.btnNext.appendChild(s.els.icnNext1),s.els.icnNext2=document.createElement("div"),s.fns.addClass(s.els.icnNext2,"icnNext2_"+s.vars.rand),s.els.btnNext.appendChild(s.els.icnNext2),s.els.btnPrevious=document.createElement("div"),s.fns.addClass(s.els.btnPrevious,"btnPrevious_"+s.vars.rand),s.els.controls.appendChild(s.els.btnPrevious),s.els.icnPrevious1=document.createElement("div"),s.fns.addClass(s.els.icnPrevious1,"icnPrevious1_"+s.vars.rand),s.els.btnPrevious.appendChild(s.els.icnPrevious1),s.els.icnPrevious2=document.createElement("div"),s.fns.addClass(s.els.icnPrevious2,"icnPrevious2_"+s.vars.rand),s.els.btnPrevious.appendChild(s.els.icnPrevious2))},s.fns.onVideoTimeUpdate=function(){s.vars.cur=s.els.vidEl.currentTime,s.vars.dur=s.els.vidEl.duration,s.vars.newWidth=s.vars.cur/s.vars.dur*100,s.els.progressPlayed.style.width=s.vars.newWidth+"%"},s.fns.onVideoEnded=function(){if(s.vars.playlist)e.next();else{if("true"!=s.vars.loop)return;e.replay()}},s.fns.seekHandler=function(e){s.vars.clickPos=e.offsetX,s.vars.durWidth=parseInt(window.getComputedStyle(s.els.progressBar).width),s.vars.seekTo=s.vars.clickPos/s.vars.durWidth,s.vars.seekPerc=100*s.vars.seekTo,s.els.vidEl.currentTime=s.els.vidEl.duration*s.vars.seekTo,s.els.progressPlayed.style.width=s.vars.seekPerc+"%"},s.fns.eventListeners=function(){"true"==s.vars.controls&&(s.els.btnPlay.onclick=e.play,s.els.btnPause.onclick=e.pause,s.els.btnMuteUnmute.onclick=e.volume,s.els.vidEl.ontimeupdate=s.fns.onVideoTimeUpdate,s.els.progressBar.onclick=s.fns.seekHandler,s.vars.playlist&&(s.els.btnNext.onclick=e.next,s.els.btnPrevious.onclick=e.previous)),s.els.vidEl.onended=s.fns.onVideoEnded},e.setup=function(e,l){switch(typeof e){case"object":s.vars.autoplay=e.autoplay||!0,s.vars.controls=e.controls||!0,s.vars.file=e.file||"video.mp4",s.vars.height=e.height||"auto",s.vars.location=e.location||"body",s.vars.loop=e.loop||!0,s.vars.playlist=e.playlist||null,s.vars.poster=e.poster||null,s.vars.muted=e.muted||!1,s.vars.width=e.width||"auto";break;case"string":s.vars.autoplay=!0,s.vars.controls=!0,s.vars.file=e||"video.mp4",s.vars.height=360,s.vars.location=l||"body",s.vars.loop=!0,s.vars.muted=!1,s.vars.poster=e.poster||null,s.vars.width=640}s.fns.initPlayer()},e.play=function(){s.els.vidEl.play(),s.vars.playing=!0,s.fns.addClass(s.els.btnPause,"visible"),s.fns.removeClass(s.els.btnPlay,"visible")},e.pause=function(){s.els.vidEl.pause(),s.vars.playing=!1,s.fns.addClass(s.els.btnPlay,"visible"),s.fns.removeClass(s.els.btnPause,"visible")},e.volume=function(){1==s.vars.muted?e.unmute():e.mute()},e.mute=function(){s.els.vidEl.volume=0,s.fns.removeClass(s.els.icnSound,"visible"),s.vars.muted=!0},e.unmute=function(){s.els.vidEl.volume=1,s.fns.addClass(s.els.icnSound,"visible"),s.vars.muted=!1},e.next=function(){if(s.vars.currVid<s.vars.playlist.length-1)s.vars.currVid++;else{if("true"!=s.vars.loop)return;s.vars.currVid=0}s.els.vidEl.src=s.vars.playlist[s.vars.currVid],s.els.vidEl.load(),e.play()},e.previous=function(){if(s.vars.currVid>0)s.vars.currVid--;else{if("true"!=s.vars.loop)return;s.vars.currVid=s.vars.playlist.length-1}s.els.vidEl.src=s.vars.playlist[s.vars.currVid],s.els.vidEl.load(),e.play()},e.replay=function(){s.els.vidEl.load(),s.els.vidEl.play()}};